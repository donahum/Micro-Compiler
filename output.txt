;LockArray: 1000
;LockArray: 1100


;IR code
;PUSH 
;JSR FUNC_main
;HALT
;LABEL FUNC_F
;LINK 0
;STOREI 2 !T0
;LEI $2 !T0 ELSE_1
;PUSH 
;STOREI 1 !T0
;SUBI $2 !T0 !T1
;PUSH !T1
;JSR FUNC_F
;POP   
;POP   !T0
;PUSH 
;STOREI 2 !T0
;SUBI $2 !T0 !T1
;PUSH !T1
;JSR FUNC_F
;POP   
;POP   !T0
;ADDI !T0 !T0 !T0
;STOREI !T0 $3
;UNLINK
;RET
;JUMP END_IF_ELSE_1  
;LABEL ELSE_1
;STOREI 0 !T0
;NEI $2 !T0 ELSE_3
;STOREI 0 !T0
;STOREI !T0 $3
;UNLINK
;RET
;JUMP END_IF_ELSE_3  
;LABEL ELSE_3
;STOREI 1 !T0
;NEI $2 !T0 ELSE_5
;STOREI 1 !T0
;STOREI !T0 $3
;UNLINK
;RET
;JUMP END_IF_ELSE_5  
;LABEL ELSE_5
;STOREI 1 !T0
;STOREI !T0 $3
;UNLINK
;RET
;LABEL END_IF_ELSE_5
;LABEL END_IF_ELSE_3
;LABEL END_IF_ELSE_1
;UNLINK
;RET
;LABEL FUNC_main
;LINK 3
;WRITES input  
;READI $-2
;STOREI 0 !T0
;STOREI !T0 $-1
;LABEL WHILE_START_7
;STOREI $-2 !T0
;EQI $-1 !T0 WHILE_END_7
;PUSH 
;PUSH $-1
;JSR FUNC_F
;POP   
;POP   !T0
;STOREI !T0 $-3
;WRITEI $-1  
;WRITES space  
;WRITEI $-3  
;WRITES eol  
;STOREI 1 !T0
;ADDI $-1 !T0 !T1
;STOREI !T1 $-1
;JUMP WHILE_START_7  
;LABEL WHILE_END_7
;UNLINK
;RET
str eol "\n"
str space " "
str input "Please input an integer number: "
push 
jsr FUNC_main
sys halt
label FUNC_F
link 0
move 2 r0
cmpi $2 r0
jle ELSE_1
push 
move 1 r0
move $2 r1
subi r0 r1
push r1
jsr FUNC_F
pop 
pop r0
push 
move 2 r0
move $2 r1
subi r0 r1
push r1
jsr FUNC_F
pop 
pop r0
move r0 r0
addi r0 r0
move r0 $3
unlnk
ret
jmp END_IF_ELSE_1
label ELSE_1
move 0 r0
cmpi $2 r0
jne ELSE_3
move 0 r0
move r0 $3
unlnk
ret
jmp END_IF_ELSE_3
label ELSE_3
move 1 r0
cmpi $2 r0
jne ELSE_5
move 1 r0
move r0 $3
unlnk
ret
jmp END_IF_ELSE_5
label ELSE_5
move 1 r0
move r0 $3
unlnk
ret
label END_IF_ELSE_5
label END_IF_ELSE_3
label END_IF_ELSE_1
unlnk
ret
label FUNC_main
link 3
sys writes  input
sys readi  $-2
move 0 r0
move r0 $-1
label WHILE_START_7
move $-2 r0
cmpi $-1 r0
jeq WHILE_END_7
push 
push $-1
jsr FUNC_F
pop 
pop r0
move r0 $-3
sys writei  $-1
sys writes  space
sys writei  $-3
sys writes  eol
move 1 r0
move $-1 r1
addi r0 r1
move r1 $-1
jmp WHILE_START_7
label WHILE_END_7
unlnk
ret
